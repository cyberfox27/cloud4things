node_types:

  cloud4things.nodes.MySqlDatabase:
    derived_from: cloudify.nodes.DBMS
    properties:
      port:
        description: MySQL port
        type: integer
    interfaces:
      cloudify.interfaces.lifecycle:
        create: # Script to create
        start: # Script to start
        stop: # Script to stop

  cloud4things.nodes.ApacheTomcatServer:
    derived_from: cloudify.nodes.ApplicationServer
    interfaces:
      cloudify.interfaces.lifecycle:
        create: # Script to create

  cloudify.nodes.EpcisApplicationModule:
    derived_from: cloudify.nodes.ApplicationModule
    properties:
      port:
        description: Application port
        type: integer
      application_url:
        description: >
          URL to an archive containing the application source.
          The archive must contain one top level directory.
        default: # Default URL for the application
      startup_script:
        description: >
          This script will be used to start the epcis application.
          The path is relative to the top level single directory inside
          the archive
        type: string
        default: # Default script to start the application
    interfaces:
      cloudify.interfaces.lifecycle:
        configure: # Script to configure
        start: # Script to start
        stop: # Script to stop

relationships:

  node_connected_to_mysql:
    derived_from: cloudify.relationships.connected_to
    target_interfaces:
      cloudify.interfaces.relationship_lifecycle:
        postconfigure: # Script to configure

  node_contained_in_tomcat:
    derived_from: cloudify.relationships.contained_in
    target_interfaces:
      cloudify.interfaces.relationship_lifecycle:
        preconfigure: # Script to preconfigure
